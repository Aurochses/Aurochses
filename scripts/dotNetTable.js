var groups = [
    {
        "groupName": "Aurochses",
        "items": [
            {
                "name": "Aurochses.Runtime",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.Runtime",
                "nuGetPackage": "Aurochses.Runtime",
                "info": "OK"
            }
        ]
    },
    {
        "groupName": "Aurochses.AspNetCore",
        "items": [
            {
                "name": "Aurochses.AspNetCore.Html",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.AspNetCore.Html",
                "nuGetPackage": "Aurochses.AspNetCore.Html",
                "info": "OK"
            },
            {
                "name": "Aurochses.AspNetCore.Mvc",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.AspNetCore.Mvc",
                "nuGetPackage": "Aurochses.AspNetCore.Mvc",
                "info": "move to 2.1.0"
            },
            {
                "name": "Aurochses.AspNetCore.Razor",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.AspNetCore.Razor",
                "nuGetPackage": "Aurochses.AspNetCore.Razor",
                "info": "OK"
            }
        ]
    },
    {
        "groupName": "Aurochses.AspNetCore.Identity",
        "items": [
            {
                "name": "Aurochses.AspNetCore.Identity",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.AspNetCore.Identity",
                "nuGetPackage": "Aurochses.AspNetCore.Identity",
                "info": "OK"
            },
            {
                "name": "Aurochses.AspNetCore.Identity.EntityFrameworkCore",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.AspNetCore.Identity.EntityFrameworkCore",
                "nuGetPackage": "Aurochses.AspNetCore.Identity.EntityFrameworkCore",
                "info": "move to 2.1.0"
            },
            {
                "name": "Aurochses.AspNetCore.Identity.SendGrid",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.AspNetCore.Identity.SendGrid",
                "nuGetPackage": "Aurochses.AspNetCore.Identity.SendGrid",
                "info": "move to 2.1.0"
            },
            {
                "name": "Aurochses.AspNetCore.Identity.Twilio",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.AspNetCore.Identity.Twilio",
                "nuGetPackage": "Aurochses.AspNetCore.Identity.Twilio",
                "info": "move to 2.1.0"
            }
        ]
    },
    {
        "groupName": "Aurochses.Data",
        "items": [
            {
                "name": "Aurochses.Data",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.Data",
                "nuGetPackage": "Aurochses.Data",
                "info": "OK"
            },
            {
                "name": "Aurochses.Data.Autofac.EntityFrameworkCore",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.Data.Autofac.EntityFrameworkCore",
                "nuGetPackage": "Aurochses.Data.Autofac.EntityFrameworkCore",
                "info": "OK"
            },
            {
                "name": "Aurochses.Data.AutoMapper",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.Data.AutoMapper",
                "nuGetPackage": "Aurochses.Data.AutoMapper",
                "info": "OK"
            },
            {
                "name": "Aurochses.Data.EntityFrameworkCore",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.Data.EntityFrameworkCore",
                "nuGetPackage": "Aurochses.Data.EntityFrameworkCore",
                "info": "OK"
            },
            {
                "name": "Aurochses.Data.Extensions.MsSql",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.Data.Extensions.MsSql",
                "nuGetPackage": "Aurochses.Data.Extensions.MsSql",
                "info": "OK"
            }
        ]
    },
    {
        "groupName": "Aurochses.Database",
        "items": [
            {
                "name": "Aurochses.Database.EntityFrameworkCore",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.Database.EntityFrameworkCore",
                "nuGetPackage": "Aurochses.Database.EntityFrameworkCore",
                "info": "Tests required."
            }
        ]
    },
    {
        "groupName": "Aurochses.Extensions",
        "items": [
            {
                "name": "Aurochses.Extensions.Configuration",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.Extensions.Configuration",
                "nuGetPackage": "Aurochses.Extensions.Configuration",
                "info": "OK"
            }
        ]
    },
    {
        "groupName": "Aurochses.IdentityServer",
        "items": [
            {
                "name": "Aurochses.IdentityServer.Website",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.IdentityServer.Website",
                "nuGetPackage": null,
                "info": "move to 2.1.0 and rename WebSite to Website"
            }
        ]
    },
    {
        "groupName": "Aurochses.Module",
        "items": [
            {
                "name": "Aurochses.Module.Address",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.Module.Address",
                "nuGetPackage": "Aurochses.Module.Address",
                "info": "move to 2.1.0"
            },
            {
                "name": "Aurochses.Module.Currency",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.Module.Currency",
                "nuGetPackage": "Aurochses.Module.Currency",
                "info": "move to 2.1.0"
            },
            {
                "name": "Aurochses.Module.Setting",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.Module.Setting",
                "nuGetPackage": "Aurochses.Module.Setting",
                "info": "move to 2.1.0"
            }
        ]
    },
    {
        "groupName": "Aurochses.Xunit",
        "items": [
            {
                "name": "Aurochses.Xunit",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.Xunit",
                "nuGetPackage": "Aurochses.Xunit",
                "info": "OK"
            },
            {
                "name": "Aurochses.Xunit.AspNetCore.Mvc",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.Xunit.AspNetCore.Mvc",
                "nuGetPackage": "Aurochses.Xunit.AspNetCore.Mvc",
                "info": "OK"
            },
            {
                "name": "Aurochses.Xunit.AspNetCore.Mvc.Localization",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.Xunit.AspNetCore.Mvc.Localization",
                "nuGetPackage": "Aurochses.Xunit.AspNetCore.Mvc.Localization",
                "info": "move to 2.1.0"
            },
            {
                "name": "Aurochses.Xunit.Selenium",
                "gitHubOwner": "Aurochses",
                "gitHubRepository": "Aurochses.Xunit.Selenium",
                "nuGetPackage": "Aurochses.Xunit.Selenium",
                "info": "move to 2.1.0"
            }
        ]
    }
];

var transforms = {
    "group": {
        "<>": "tr",
        "html": [
            {
                "<>": "th",
                "scope": "rowgroup",
                "colspan": 6,
                "html": "${groupName}"
            },
            {
                "<>": "div",
                "html": function (obj, index) {
                    return json2html.transform(obj.items, transforms.project);
                }
            }
        ]
    },
    "project": {
        "<>": "tr",
        "html": [
            {
                "<>": "th",
                "html": function (obj, index) {
                    return index + 1;
                }
            },
            {
                "<>": "td",
                "html": "${name}"
            },
            {
                "<>": "td",
                "html": [
                    {
                        "<>": "a",
                        "target": "_blank",
                        "href": "https://github.com/${gitHubOwner}/${gitHubRepository}",
                        "html": [
                            {
                                "<>": "img",
                                "src": "https://img.shields.io/github/last-commit/${gitHubOwner}/${gitHubRepository}.svg?style=flat-square"
                            }
                        ]
                    },
                    {
                        "<>": "span",
                        "html": " "
                    },
                    {
                        "<>": "a",
                        "target": "_blank",
                        "href": "https://github.com/${gitHubOwner}/${gitHubRepository}",
                        "html": [
                            {
                                "<>": "img",
                                "src": "https://img.shields.io/github/license/${gitHubOwner}/${gitHubRepository}.svg?style=flat-square"
                            }
                        ]
                    }
                ]
            },
            {
                "<>": "div",
                "html": function (obj, index) {
                    if (obj.nuGetPackage === null) {
                        return "<td>-</td>";
                    }

                    return json2html.transform(obj, transforms.nuget);
                }
            },
            {
                "<>": "td",
                "html": "${info}"
            }
        ]
    },
    "nuget": {
        "<>": "td",
        "html": [
            {
                "<>": "a",
                "target": "_blank",
                "href": "https://www.nuget.org/packages/${nuGetPackage}",
                "html": [
                    {
                        "<>": "img",
                        "src": "https://img.shields.io/nuget/v/${nuGetPackage}.svg?style=flat-square"
                    }
                ]
            },
            {
                "<>": "span",
                "html": " "
            },
            {
                "<>": "a",
                "target": "_blank",
                "href": "https://libraries.io/nuget/${nuGetPackage}",
                "html": [
                    {
                        "<>": "img",
                        "src": "https://img.shields.io/librariesio/release/nuget/${nuGetPackage}.svg?style=flat-square"
                    }
                ]
            }
        ]
    }
};

$("#dotNetTable > tbody").append(json2html.transform(groups, transforms.group));

var total = 0;

for (i = 0; i < groups.length; i++) {
    total += groups[i].items.length;
}

$("#dotNetTableTotal").text(total);